<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <link rel="icon" type="image/png" href="images/bird.png" />
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"></link>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
        <title>Welcome</title>
    </h:head>

    <style type="text/css">
        body, html {
            line-height: 1.8;
            color: black;
        }

        h1{
            font-family: 'CandyPop-' !important;
        }

        @font-face {
            font-family: 'CandyPop-';
            src: url('syle/CandyPop-.eot?#iefix') format('embedded-opentype'),  url('style/CandyPop-.woff') format('woff'), url('style/CandyPop-.ttf')  
                format('truetype'), url('style/CandyPop-.svg#CandyPop!') format('svg');
            font-weight: normal;
            font-style: normal;
        }

        /* Create a Parallax Effect */
        .bgimg-1{
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* First image (Logo. Full height) */
        .bgimg-1 {
            margin-top: 9%;
        }

        input{
            outline-width: 0;
            background: none;
        }

        #butt-sign-up:hover{
            background-color: #1fe0a0;
        }

        ::placeholder{
            color: gray;
        }

        #butt-sign-in:hover{
            background-color: #273c4e;
        }

        .round-photo-icon {
            width:50px;
            height:50px;
            object-fit:cover;
            border-radius:50%;
        }
    </style>

    <h:body>
        
        <bgsound src="audio/sound.mp3" loop="infinite"/>

        <!-- Valid Data -->
        <f:metadata>
            <f:viewAction action = "#{User.restartData()}"></f:viewAction>
        </f:metadata>

        <div id="title" style="margin-top: 10%" class="w3-animate-top w3-center">
            <h1 style="font-size: 55px;">House Manager</h1>
        </div>
        <div class="w3-row" style="background: transparent;">
            <h:form>
                <div id="image_id" style="position: absolute; margin-top: 17%" class="w3-container w3-justify  w3-half">
                    <img id="img_1" style="display:block;margin-right: 50px;margin-top: 6%;margin-bottom: 20px" class="w3-animate-opacity " src="images/bird-4.png" /> 
                    <img id="img_2" style="display:none; margin-right: 70px;margin-top: 6%;margin-bottom: 50px" src="images/ezgif.com-crop.gif" /> 
                </div>
                <div id="login-form" class="w3-container w3-half w3-justify w3-border-left w3-padding-64 w3-right " style="opacity: 0.02">
                    <i class="fa fa-user-o" style="margin-left: 50px; margin-right: 6px;font-size:28px"></i>
                    <h:inputText style="width: 20%;display: inline" binding="#{username}" class="w3-input w3-border w3-border-black " required="" />
                    <br/>
                    <i class="fa fa-lock" style="margin-left: 50px; margin-top: 25px;margin-right: 11px;font-size:28px"></i>
                    <h:inputSecret class="w3-input" binding="#{password}" style="border: solid 1px black; width: 20%;display: inline" required="" />
                    <br/>
                    <h:commandButton id="butt-sign-in" type="submit" style="display:inline;margin:auto; width: 20%; 
                                     margin-top: 15px;margin-left: 78px" class="w3-button w3-text-white w3-blue w3-hover-blue w3-hover-opacity 
                                     w3-block w3-padding-large " 
                                     value="Sign In" action="#{User.signInFunction(username.value, password.value)}" />
                    
                    <br/>
                    <h:button outcome="home.xhtml" style="margin-top: 10px;margin-left: 78px; display: inline;width: 20%;" class="w3-button w3-hover-deep-orange
                              w3-deep-orange w3-hover-opacity w3-text-white w3-block  w3-padding-large w3-margin-bottom" value="Guest" />
                </div>
            </h:form>
        </div>

        <div id="register" class="w3-animate-bottom w3-center w3-container">
            <a style="font-size: 19px;" href="regist.xhtml">Register Now</a>
        </div>
        
        <h:panelGroup rendered="#{User.checkFlag()}">
            <ui:insert><ui:include src="error.xhtml"></ui:include></ui:insert>
        </h:panelGroup>
        
    </h:body>

    <script>
        var elem = document.getElementById("image_id");
        var elem2 = document.getElementById("login-form");
        var pos = 0;
        var opacity = 0.03;
        var reach_y = 200;
        var pos_y = 0;
        var id = setInterval(frame, 1);
        function frame() {

            if (reach_y == 200)
                reach_y = 0;
            else if (reach_y == 0)
                reach_y = 200;

            if (pos == 560) {
                clearInterval(id);
                document.getElementById("img_1").style.display = "none";
                document.getElementById("img_2").style.display = "block";
            } else {
                pos += 2;
                if (reach_y > 0) {
                    pos_y += 20;
                } else {
                    pos_y -= 20;
                }

                opacity += 0.003;

                elem2.style.opacity = opacity;

                elem.style.top = pos_y + 'px'
                elem.style.left = pos + 'px';
            }
        }
    </script>

</html>

